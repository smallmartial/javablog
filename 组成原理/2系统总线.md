## 1.总线的基本概念

### 1.1什么是总线

- 总线是连接各个部分的信息传输线，是各个部件共享的传输介质

### 1.2总线上信息的传送

- 串行
- 并行（传输距离短）

### 1.3单总线结构框图

![image-20200413114624848](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413114624848.png)

### 1.4面向CPU的双总线结构框图

![image-20200413114704237](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413114704237.png)

### 1.5以存储器为中心双总线结构框图

![image-20200413114748369](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413114748369.png)

## 2.总线的分类

- 片内总线（芯片内部的总线）
- 系统总线
  - 数据总线  双向
  - 地址总线  单向
  - 控制总线 有出 友入
- 通信总线
  - 串行通信
  - 并行通信

## 3.总线的特性

- 总线的特性

  - 机械特性
  - 电气特性 传输方向和有效的电平范围
  - 功能特性 地址 数据 控制
  - 时间特性

- 总线的性能指标

  - 总线的宽度
  - 标准传输率 （MBps）
  - 时钟同步/异步
  - 总线复用 地址线和数据线复用
  - 信号线数 地址线 数据线 控制线的总和
  - 总线控制方式
  - 其他指标

- 总线标准

  ![image-20200413115716398](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413115716398.png)

  ![image-20200413115728861](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413115728861.png)

## 4.总线结构

- 单总线结构

- 多总线结构

  - 双总线结构

    ![image-20200413120010191](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413120010191.png)

  - 三总线结构

    ![image-20200413120117702](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413120117702.png)

    ![image-20200413120139935](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413120139935.png)

  - 四总线结构

    ![image-20200413120257102](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413120257102.png)

- PCI总线

  ![image-20200413120417223](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413120417223.png)

## 5.总线控制

- 基本概念

  - 主设备 对总线有控制权
  - 从设备
  - 总线判优控制（集中式和分布式）

  - 链式查询方式

    ![image-20200413150135653](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413150135653.png)

  - 计数器定时查询

    ![image-20200413151322341](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413151322341.png)

  - 独立请求方式

    ![image-20200413151514428](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413151514428.png)

- 总线通信控制

  - 目的：解决通信双方协调配合问题
  - 总线传输周期
    - 申请分配阶段（主模块申请，总线仲裁决定）
    - 寻址阶段 （主模块 向从模块给出地址和命令）
    - 传数阶段（主模块和从模块交互数据）
    - 结束阶段（主模块撤出有关消息）

- 总线通信的四种方式

  - 同步通信
  - 异步通信
  - 半同步通信
  - 分离式通信

  - - 同时是数据输入

      ![image-20200413152209597](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413152209597.png)

      - 同步式数据输出

        ![image-20200413152322623](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413152322623.png)

      - 异步通信

        ![image-20200413152620207](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413152620207.png)

        - 半同步通信

          ![image-20200413153319301](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413153319301.png)

          - 分离式通信

            ![image-20200413153518811](2%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF/image-20200413153518811.png)

          

  